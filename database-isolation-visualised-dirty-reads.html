<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Database Isolation (dirty reads) | Byte Vault</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://twistingtwists.github.io/byte_vault/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://twistingtwists.github.io/byte_vault/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://twistingtwists.github.io/byte_vault/database-isolation-visualised-dirty-reads"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Database Isolation (dirty reads) | Byte Vault"><meta data-rh="true" name="description" content="Understanding Dirty Reads: A Database Isolation Problem"><meta data-rh="true" property="og:description" content="Understanding Dirty Reads: A Database Isolation Problem"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-04-21T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/TwistingTwists"><meta data-rh="true" property="article:tag" content="Rust,Tokio,Async,Event Loop"><link data-rh="true" rel="icon" href="/byte_vault/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://twistingtwists.github.io/byte_vault/database-isolation-visualised-dirty-reads"><link data-rh="true" rel="alternate" href="https://twistingtwists.github.io/byte_vault/database-isolation-visualised-dirty-reads" hreflang="en"><link data-rh="true" rel="alternate" href="https://twistingtwists.github.io/byte_vault/database-isolation-visualised-dirty-reads" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://twistingtwists.github.io/byte_vault/database-isolation-visualised-dirty-reads","mainEntityOfPage":"https://twistingtwists.github.io/byte_vault/database-isolation-visualised-dirty-reads","url":"https://twistingtwists.github.io/byte_vault/database-isolation-visualised-dirty-reads","headline":"Database Isolation (dirty reads)","name":"Database Isolation (dirty reads)","description":"Understanding Dirty Reads: A Database Isolation Problem","datePublished":"2025-04-21T00:00:00.000Z","author":{"@type":"Person","name":"Abhishek Tripathi","description":"Curiosity brings awareness.","url":"https://github.com/TwistingTwists","image":"https://github.com/TwistingTwists.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://twistingtwists.github.io/byte_vault/","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/byte_vault/rss.xml" title="Byte Vault RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/byte_vault/atom.xml" title="Byte Vault Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B9R18KF2Y1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B9R18KF2Y1",{})</script>





<script src="/scripts/processMultiline.ts" async></script><link rel="stylesheet" href="/byte_vault/assets/css/styles.c7049d96.css">
<script src="/byte_vault/assets/js/runtime~main.a993f9fd.js" defer="defer"></script>
<script src="/byte_vault/assets/js/main.2b25cb40.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/byte_vault/img/logo.svg"><link rel="preload" as="image" href="https://github.com/TwistingTwists.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/byte_vault/"><div class="navbar__logo"><img src="/byte_vault/img/logo.svg" alt="Byte Vault" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/byte_vault/img/logo.svg" alt="Byte Vault" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Byte Vault</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/byte_vault/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/TwistingTwists/bytevault" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/byte_vault/database-isolation-visualised-dirty-reads">Database Isolation (dirty reads)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/byte_vault/tokio-internals-visualised">Understanding Eventloops (Tokio Internals)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/byte_vault/connection-pooling-in-depth">Connection Pooling - in Depth</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/byte_vault/reliable-structured-outputs-with-llms">Reliable Structured Outputs with LLMs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/byte_vault/string-interning-rust">String interning in Rust</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/byte_vault/rust-tips-tricks">Rust tricks for the average developer (me)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/byte_vault/streaming-http-to-disk">Streaming HTTP to Disk</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/byte_vault/deep-flattening-in-rust-using-recursive-types">Deep Flattening in Rust - Using Recursive Types </a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/byte_vault/how-to-solve-reverse-proxy-performance-issues-in-caddy-server-a-300-performance-boost-using-unix-sockets">Caddy Reverse Proxy Performance: 300% Boost with Unix Sockets</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/byte_vault/1brc-same-tricks-across-languages">1brc - same tricks across languages</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Database Isolation (dirty reads)</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-04-21T00:00:00.000Z">April 21, 2025</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a class="avatar__photo-link" href="/byte_vault/authors/abeeshake"><img class="avatar__photo authorImage_XqGP" src="https://github.com/TwistingTwists.png" alt="Abhishek Tripathi"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="/byte_vault/authors/abeeshake"><span class="authorName_yefp">Abhishek Tripathi</span></a></div><small class="authorTitle_nd0D" title="Curiosity brings awareness.">Curiosity brings awareness.</small><div class="authorSocials_rSDt"><a href="https://x.com/twistin456" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="X"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 1200 1227" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf xSvg_y3PF"><path d="M714.163 519.284 1160.89 0h-105.86L667.137 450.887 357.328 0H0l468.492 681.821L0 1226.37h105.866l409.625-476.152 327.181 476.152H1200L714.137 519.284h.026ZM569.165 687.828l-47.468-67.894-377.686-540.24h162.604l304.797 435.991 47.468 67.894 396.2 566.721H892.476L569.165 687.854v-.026Z"></path></svg></a><a href="https://github.com/TwistingTwists" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><div class="tableOfContentsInline_prmo"><ul class="table-of-contents"><li><a href="#understanding-dirty-reads-a-database-isolation-problem">Understanding Dirty Reads: A Database Isolation Problem</a><ul><li><a href="#what-is-a-dirty-read">What is a Dirty Read?</a></li><li><a href="#example-scenario">Example Scenario</a></li><li><a href="#step-by-step-dirty-read-in-action">Step-by-Step: Dirty Read in Action</a></li></ul></li><li><a href="#why-is-this-a-problem">Why is This a Problem?</a></li><li><a href="#visualizing-the-dirty-read">Visualizing the Dirty Read</a></li><li><a href="#conclusion">Conclusion</a></li></ul></div>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-dirty-reads-a-database-isolation-problem">Understanding Dirty Reads: A Database Isolation Problem<a href="#understanding-dirty-reads-a-database-isolation-problem" class="hash-link" aria-label="Direct link to Understanding Dirty Reads: A Database Isolation Problem" title="Direct link to Understanding Dirty Reads: A Database Isolation Problem">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-a-dirty-read">What is a Dirty Read?<a href="#what-is-a-dirty-read" class="hash-link" aria-label="Direct link to What is a Dirty Read?" title="Direct link to What is a Dirty Read?">​</a></h3>
<p>A <strong>dirty read</strong> occurs when a transaction reads data that has been written by another transaction but not yet committed. If the writing transaction rolls back, the data read by the first transaction becomes invalid—hence, &quot;dirty.&quot;</p>
<p>This can lead to inconsistent or incorrect results in applications, especially in systems where multiple users or processes are accessing and modifying the data concurrently.</p>
<!-- -->
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-scenario">Example Scenario<a href="#example-scenario" class="hash-link" aria-label="Direct link to Example Scenario" title="Direct link to Example Scenario">​</a></h3>
<p>Let&#x27;s walk through a concrete example to see how a dirty read can happen.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="initial-database-state">Initial Database State<a href="#initial-database-state" class="hash-link" aria-label="Direct link to Initial Database State" title="Direct link to Initial Database State">​</a></h4>
<p>Suppose we have a simple database table:</p>
<table><thead><tr><th>key</th><th>value</th></tr></thead><tbody><tr><td>name</td><td>abhishek</td></tr><tr><td>age</td><td>42</td></tr></tbody></table>
<p>Two transactions, <strong>T1</strong> and <strong>T2</strong>, will interact with the <code>name</code> row.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-by-step-dirty-read-in-action">Step-by-Step: Dirty Read in Action<a href="#step-by-step-dirty-read-in-action" class="hash-link" aria-label="Direct link to Step-by-Step: Dirty Read in Action" title="Direct link to Step-by-Step: Dirty Read in Action">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-t1-reads-the-original-value">1. T1 Reads the Original Value<a href="#1-t1-reads-the-original-value" class="hash-link" aria-label="Direct link to 1. T1 Reads the Original Value" title="Direct link to 1. T1 Reads the Original Value">​</a></h4>
<ul>
<li><strong>T1</strong> starts and reads the value of <code>name</code>.</li>
<li>It sees:<br>
<code>name = &#x27;abhishek&#x27;</code> (the committed value).</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-t2-updates-the-value-but-doesnt-commit">2. T2 Updates the Value (But Doesn&#x27;t Commit)<a href="#2-t2-updates-the-value-but-doesnt-commit" class="hash-link" aria-label="Direct link to 2. T2 Updates the Value (But Doesn&#x27;t Commit)" title="Direct link to 2. T2 Updates the Value (But Doesn&#x27;t Commit)">​</a></h4>
<ul>
<li><strong>T2</strong> starts and updates <code>name</code> to <code>&#x27;john&#x27;</code>.</li>
<li>This change is <strong>not yet committed</strong> to the database.</li>
<li>Other transactions should ideally not see this uncommitted value.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-t1-reads-again-dirty-read">3. T1 Reads Again (Dirty Read!)<a href="#3-t1-reads-again-dirty-read" class="hash-link" aria-label="Direct link to 3. T1 Reads Again (Dirty Read!)" title="Direct link to 3. T1 Reads Again (Dirty Read!)">​</a></h4>
<ul>
<li><strong>T1</strong> reads the value of <code>name</code> again.</li>
<li><strong>Because the database isolation level is low (e.g., READ UNCOMMITTED), T1 sees <code>name = &#x27;john&#x27;</code></strong>, even though T2 hasn&#x27;t committed.</li>
<li>This is a <strong>dirty read</strong>: T1 is reading data that might be rolled back.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-t2-commits">4. T2 Commits<a href="#4-t2-commits" class="hash-link" aria-label="Direct link to 4. T2 Commits" title="Direct link to 4. T2 Commits">​</a></h4>
<ul>
<li><strong>T2</strong> now commits its change.</li>
<li><code>name = &#x27;john&#x27;</code> is now the official, permanent value.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-t1-commits">5. T1 Commits<a href="#5-t1-commits" class="hash-link" aria-label="Direct link to 5. T1 Commits" title="Direct link to 5. T1 Commits">​</a></h4>
<ul>
<li><strong>T1</strong> commits, possibly basing its logic on the dirty value it read earlier.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-this-a-problem">Why is This a Problem?<a href="#why-is-this-a-problem" class="hash-link" aria-label="Direct link to Why is This a Problem?" title="Direct link to Why is This a Problem?">​</a></h2>
<p>If <strong>T2</strong> had rolled back instead of committing, <strong>T1</strong> would have read a value that never officially existed in the database. This can cause application bugs, data corruption, or security issues.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="visualizing-the-dirty-read">Visualizing the Dirty Read<a href="#visualizing-the-dirty-read" class="hash-link" aria-label="Direct link to Visualizing the Dirty Read" title="Direct link to Visualizing the Dirty Read">​</a></h2>
<p>The animation below demonstrates this scenario step-by-step. You can see how the database and transactions interact, and exactly when the dirty read occurs.</p>
<div class="flex flex-col items-center p-4 min-h-screen bg-gradient-to-br from-gray-800 to-indigo-900 font-sans"><h2 class="text-3xl font-bold mb-5 text-white shadow-sm px-4 py-1 rounded bg-black/30">Concurrency Issue: Dirty Read Visualization</h2><div class="w-full max-w-4xl"><div class="w-full mt-2 mb-6 px-6 py-4 bg-gray-800/90 backdrop-blur-sm rounded-lg shadow-md border border-gray-700"><div class="flex justify-center mb-8"><div class="relative bg-gray-900 rounded-lg border border-gray-600 p-6 w-full max-w-md shadow-lg"><div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white px-3 py-1 rounded-md text-sm font-bold">Database</div><table class="w-full text-white border-collapse"><thead><tr><th class="border-b border-gray-700 py-2 text-left w-1/3">Key</th><th class="border-b border-gray-700 py-2 text-left w-2/3">Value</th></tr></thead><tbody><tr><td class="py-2 font-mono">name</td><td class="py-2 font-mono flex items-center gap-2"><span class="text-blue-400 whitespace-nowrap">abhishek</span><span class="text-xs text-blue-300 whitespace-nowrap">(committed)</span></td></tr></tbody></table></div></div><div class="w-full max-w-4xl mb-4 p-4 bg-gray-800/90 backdrop-blur-sm rounded-lg shadow-md text-center border border-gray-700 mx-auto"><p class="font-medium text-white text-lg leading-tight"><span class="font-bold text-indigo-300">Status:</span> <!-- -->Ready to visualize Dirty Read.<span class="ml-6 text-gray-300 text-base">(Step: <!-- -->0<!-- -->/<!-- -->7<!-- -->)</span></p></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="relative bg-gray-900 rounded-lg border border-gray-600 p-4 shadow-lg"><div class="absolute -top-3 left-4 bg-cyan-600 text-white px-3 py-1 rounded-md text-sm font-bold">Transaction 1</div><div class="mt-3"><div class="flex justify-between mb-2"><span class="text-gray-400">Status:</span><span class="font-medium text-gray-300">Idle</span></div></div></div><div class="relative bg-gray-900 rounded-lg border border-gray-600 p-4 shadow-lg"><div class="absolute -top-3 left-4 bg-orange-600 text-white px-3 py-1 rounded-md text-sm font-bold">Transaction 2</div><div class="mt-3"><div class="flex justify-between mb-2"><span class="text-gray-400">Status:</span><span class="font-medium text-gray-300">Idle</span></div></div></div></div></div></div><div class="w-full max-w-4xl"><div class="w-full mt-2 mb-6 px-6 py-4 bg-gray-800/90 backdrop-blur-sm rounded-lg shadow-md border border-gray-700"><h3 class="text-xl font-bold text-white mb-4 pb-2 border-b border-gray-600/50">Transaction Timeline</h3><div class="flex flex-wrap justify-center items-center gap-4 mb-4 text-xs text-white/90 transition-all duration-300 opacity-100 -translate-y-0"><div class="flex items-center gap-2 px-2 py-1 rounded-md bg-gray-800/30 border border-gray-700/30"><div class="w-2.5 h-2.5 rounded-full bg-cyan-500 shadow-[0_0_6px_0_rgba(34,211,238,0.4)]"></div><span>T1 Events</span></div><div class="flex items-center gap-2 px-2 py-1 rounded-md bg-gray-800/30 border border-gray-700/30"><div class="w-2.5 h-2.5 rounded-full bg-orange-500 shadow-[0_0_6px_0_rgba(249,115,22,0.4)]"></div><span>T2 Events</span></div><div class="flex items-center gap-2 px-2 py-1 rounded-md bg-gray-800/30 border border-gray-700/30"><div class="w-2.5 h-2.5 rounded-full bg-yellow-500 shadow-[0_0_6px_0_rgba(234,179,8,0.4)]"></div><span>Dirty Read</span></div><div class="flex items-center gap-2 px-2 py-1 rounded-md bg-gray-800/30 border border-gray-700/30"><div class="w-2.5 h-2.5 rounded-full bg-indigo-500 shadow-[0_0_6px_0_rgba(99,102,241,0.4)]"></div><span>System Events</span></div><div class="flex items-center gap-2 px-2 py-1 rounded-md bg-gray-800/30 border border-gray-700/30"><div class="w-2.5 h-2.5 rounded-full bg-white ring-1 ring-white/30"></div><span>Current Step</span></div></div><div class="relative h-52 bg-gray-900/50 backdrop-blur rounded-xl border border-gray-700/50 overflow-hidden px-8 py-6 mx-4 my-2 group"><div class="absolute top-1/2 left-16 right-16 h-[2px] bg-gray-700/50 rounded-full"></div><div class="absolute top-1/3 left-16 right-16 h-[2px] bg-gray-700/30"></div><div class="absolute top-2/3 left-16 right-16 h-[2px] bg-gray-700/30"></div><div class="absolute top-1/3 left-16 h-[2px] bg-cyan-500/50 backdrop-blur transition-all duration-300 shadow-[0_0_8px_0_rgba(34,211,238,0.4)]" style="width:0%"></div><div class="absolute top-2/3 left-16 h-[2px] bg-orange-500/50 backdrop-blur transition-all duration-300 shadow-[0_0_8px_0_rgba(249,115,22,0.4)]" style="width:0%"></div><div class="absolute top-1/3 left-6 -translate-y-1/2 text-sm font-medium text-cyan-400/90 px-2 py-1 rounded-md bg-cyan-950/30 border border-cyan-500/20 shadow-sm">T1</div><div class="absolute top-2/3 left-6 -translate-y-1/2 text-sm font-medium text-orange-400/90 px-2 py-1 rounded-md bg-orange-950/30 border border-orange-500/20 shadow-sm">T2</div><div class="absolute transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center" style="left:16%;top:50%"><div class="w-4 h-4 rounded-full bg-indigo-600/50 shadow-[0_0_8px_0_rgba(99,102,241,0.4)] ring-2 ring-white/30 scale-125 shadow-md flex items-center justify-center backdrop-blur-sm transition-all duration-300"><div class="w-2 h-2 rounded-full bg-white animate-pulse"></div></div><div class="absolute whitespace-nowrap text-xs font-medium text-white px-2.5 py-1.5 rounded-lg top-7 bg-indigo-600/50/10 backdrop-blur-sm border border-gray-700/30 shadow-lg font-bold scale-105 transition-all duration-300">Initial State</div></div><div class="absolute transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center" style="left:24.5%;top:33.333%"><div class="w-4 h-4 rounded-full bg-cyan-800/50 shadow-[0_0_8px_0_rgba(34,211,238,0.4)] shadow-md flex items-center justify-center backdrop-blur-sm transition-all duration-300"></div><div class="absolute whitespace-nowrap text-xs font-medium text-white px-2.5 py-1.5 rounded-lg bottom-7 bg-cyan-800/50/10 backdrop-blur-sm border border-gray-700/30 shadow-lg transition-all duration-300">Read</div><div class="absolute h-16 w-[1px] bg-cyan-800/50/30 backdrop-blur-sm" style="top:0%"></div></div><div class="absolute transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center" style="left:33%;top:66.667%"><div class="w-4 h-4 rounded-full bg-orange-800/50 shadow-[0_0_8px_0_rgba(249,115,22,0.4)] shadow-md flex items-center justify-center backdrop-blur-sm transition-all duration-300"></div><div class="absolute whitespace-nowrap text-xs font-medium text-white px-2.5 py-1.5 rounded-lg top-7 bg-orange-800/50/10 backdrop-blur-sm border border-gray-700/30 shadow-lg transition-all duration-300">Begin Write</div><div class="absolute h-16 w-[1px] bg-orange-800/50/30 backdrop-blur-sm" style="top:-100%"></div></div><div class="absolute transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center" style="left:41.5%;top:66.667%"><div class="w-4 h-4 rounded-full bg-orange-800/50 shadow-[0_0_8px_0_rgba(249,115,22,0.4)] shadow-md flex items-center justify-center backdrop-blur-sm transition-all duration-300"></div><div class="absolute whitespace-nowrap text-xs font-medium text-white px-2.5 py-1.5 rounded-lg top-7 bg-orange-800/50/10 backdrop-blur-sm border border-gray-700/30 shadow-lg transition-all duration-300">Write (Uncommitted)</div><div class="absolute h-16 w-[1px] bg-orange-800/50/30 backdrop-blur-sm" style="top:-100%"></div></div><div class="absolute transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center" style="left:50%;top:33.333%"><div class="w-4 h-4 rounded-full bg-yellow-800/50 shadow-[0_0_8px_0_rgba(234,179,8,0.4)] shadow-md flex items-center justify-center backdrop-blur-sm transition-all duration-300"></div><div class="absolute whitespace-nowrap text-xs font-medium text-white px-2.5 py-1.5 rounded-lg bottom-7 bg-yellow-800/50/10 backdrop-blur-sm border border-gray-700/30 shadow-lg transition-all duration-300">Dirty Read</div><div class="absolute h-16 w-[1px] bg-yellow-800/50/30 backdrop-blur-sm" style="top:0%"></div></div><div class="absolute transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center" style="left:58.5%;top:66.667%"><div class="w-4 h-4 rounded-full bg-orange-800/50 shadow-[0_0_8px_0_rgba(249,115,22,0.4)] shadow-md flex items-center justify-center backdrop-blur-sm transition-all duration-300"></div><div class="absolute whitespace-nowrap text-xs font-medium text-white px-2.5 py-1.5 rounded-lg top-7 bg-orange-800/50/10 backdrop-blur-sm border border-gray-700/30 shadow-lg transition-all duration-300">Commit</div><div class="absolute h-16 w-[1px] bg-orange-800/50/30 backdrop-blur-sm" style="top:-100%"></div></div><div class="absolute transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center" style="left:67%;top:33.333%"><div class="w-4 h-4 rounded-full bg-cyan-800/50 shadow-[0_0_8px_0_rgba(34,211,238,0.4)] shadow-md flex items-center justify-center backdrop-blur-sm transition-all duration-300"></div><div class="absolute whitespace-nowrap text-xs font-medium text-white px-2.5 py-1.5 rounded-lg bottom-7 bg-cyan-800/50/10 backdrop-blur-sm border border-gray-700/30 shadow-lg transition-all duration-300">Commit</div><div class="absolute h-16 w-[1px] bg-cyan-800/50/30 backdrop-blur-sm" style="top:0%"></div></div><div class="absolute transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center" style="left:75.5%;top:50%"><div class="w-4 h-4 rounded-full bg-indigo-800/50 shadow-[0_0_8px_0_rgba(99,102,241,0.4)] shadow-md flex items-center justify-center backdrop-blur-sm transition-all duration-300"></div><div class="absolute whitespace-nowrap text-xs font-medium text-white px-2.5 py-1.5 rounded-lg top-7 bg-indigo-800/50/10 backdrop-blur-sm border border-gray-700/30 shadow-lg transition-all duration-300">Final State</div></div></div></div></div><div class="w-full max-w-4xl flex flex-wrap justify-center items-center gap-3 mt-4 p-3 bg-gray-800/90 backdrop-blur-sm rounded-lg shadow-md border border-gray-700 sticky bottom-0 z-50"><button class="px-5 py-2 text-base bg-blue-600 text-white font-semibold rounded-md shadow hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-150 ease-in-out relative overflow-visible">Play</button><button disabled="" class="px-5 py-2 text-base bg-yellow-500 text-white font-semibold rounded-md shadow hover:bg-yellow-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-150 ease-in-out">Pause</button><button class="px-5 py-2 text-base bg-green-500 text-white font-semibold rounded-md shadow hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-150 ease-in-out relative overflow-visible">Step Forward</button><button class="px-5 py-2 text-base bg-red-500 text-white font-semibold rounded-md shadow hover:bg-red-600 transition-all duration-150 ease-in-out relative overflow-visible">Reset</button><div class="flex items-center gap-2 ml-4 p-2 bg-gray-700 rounded border border-gray-600"><label for="speedControl" class="text-sm font-medium text-white whitespace-nowrap">Anim Speed:</label><input type="range" id="speedControl" min="0.2" max="5" step="0.1" class="w-24 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-500" value="1"><span class="text-sm font-medium text-white w-8 text-right">1.0<!-- -->x</span></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>Dirty reads are a classic example of why database isolation levels matter. By default, most production databases avoid dirty reads by using stricter isolation (like READ COMMITTED or higher). However, understanding this scenario helps you appreciate the trade-offs between performance and consistency in concurrent systems.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="Rust lang" class="tag_zVej tagRegular_sFm0" href="/byte_vault/tags/rust">Rust</a></li><li class="tag_QGVx"><a title="Tokio async runtime" class="tag_zVej tagRegular_sFm0" href="/byte_vault/tags/tokio">Tokio</a></li><li class="tag_QGVx"><a title="Asynchronous programming" class="tag_zVej tagRegular_sFm0" href="/byte_vault/tags/async">Async</a></li><li class="tag_QGVx"><a title="Event loop" class="tag_zVej tagRegular_sFm0" href="/byte_vault/tags/eventloop">Event Loop</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/byte_vault/tokio-internals-visualised"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Understanding Eventloops (Tokio Internals)</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#understanding-dirty-reads-a-database-isolation-problem" class="table-of-contents__link toc-highlight">Understanding Dirty Reads: A Database Isolation Problem</a><ul><li><a href="#what-is-a-dirty-read" class="table-of-contents__link toc-highlight">What is a Dirty Read?</a></li><li><a href="#example-scenario" class="table-of-contents__link toc-highlight">Example Scenario</a></li><li><a href="#step-by-step-dirty-read-in-action" class="table-of-contents__link toc-highlight">Step-by-Step: Dirty Read in Action</a></li></ul></li><li><a href="#why-is-this-a-problem" class="table-of-contents__link toc-highlight">Why is This a Problem?</a></li><li><a href="#visualizing-the-dirty-read" class="table-of-contents__link toc-highlight">Visualizing the Dirty Read</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/byte_vault/">Blog</a></li><li class="footer__item"><a href="https://github.com/TwistingTwists/bytevault" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2025 Abhishek Tripathi</div></div></div></footer></div>
</body>
</html>